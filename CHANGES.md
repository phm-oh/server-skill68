# ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á - ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏™‡∏±‡πâ‡∏ô‡∏Å‡∏£‡∏∞‡∏ä‡∏±‡∏ö

## ‚úÖ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏î‡∏≠‡∏≠‡∏Å (‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏Ç‡πà‡∏á)

### VM1 (GitLab)
- ‚ùå **Portainer** - Docker management UI (‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)
- ‚ùå **Registry UI** - ‡∏î‡∏π registry (‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô - ‡πÉ‡∏ä‡πâ GitLab UI ‡πÑ‡∏î‡πâ)
- ‚ùå **Prometheus** - Metrics collection (‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)
- ‚ùå **Grafana** - Monitoring dashboard (‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)

**‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏Ç‡πà‡∏á ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏Ñ‡πà GitLab + Runner + Registry ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

### VM2 (Production)
- ‚ùå **phpMyAdmin** - Database management (‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô - ‡πÉ‡∏ä‡πâ mysql command line ‡πÑ‡∏î‡πâ)
- ‚ùå **Node-RED** - IoT flow (‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô - Backend ‡∏£‡∏±‡∏ö MQTT ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á‡πÑ‡∏î‡πâ)

**‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:** 
- phpMyAdmin: ‡πÉ‡∏ä‡πâ `docker exec -it db mysql -u devops -pdevops123 devops_db` ‡πÅ‡∏ó‡∏ô
- Node-RED: Backend ‡∏°‡∏µ MQTT client ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô Node-RED

## ‚úÖ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏á‡πÑ‡∏ß‡πâ (‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)

### VM1
- ‚úÖ **GitLab CE** - Git repository + CI/CD
- ‚úÖ **GitLab Runner** - ‡∏£‡∏±‡∏ô pipeline
- ‚úÖ **Container Registry** - ‡πÄ‡∏Å‡πá‡∏ö Docker images (‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô GitLab)

### VM2
- ‚úÖ **Caddy** - Reverse proxy (‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô - route traffic)
- ‚úÖ **Backend** - API server (‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)
- ‚úÖ **Frontend** - Web UI (‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)
- ‚úÖ **Database** - MariaDB (‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)
- ‚úÖ **MQTT** - IoT broker (‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ESP32)

## üìä ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö

### ‡∏Å‡πà‡∏≠‡∏ô (‡∏¢‡∏≤‡∏ß)
- VM1: 6 services (GitLab, Runner, Portainer, Registry UI, Prometheus, Grafana)
- VM2: 7 services (Caddy, Backend, Frontend, DB, phpMyAdmin, MQTT, Node-RED)
- **‡∏£‡∏ß‡∏°: 13 services**

### ‡∏´‡∏•‡∏±‡∏á (‡∏™‡∏±‡πâ‡∏ô)
- VM1: 2 services (GitLab, Runner)
- VM2: 5 services (Caddy, Backend, Frontend, DB, MQTT)
- **‡∏£‡∏ß‡∏°: 7 services**

**‡∏•‡∏î‡∏•‡∏á: 46% (‡∏à‡∏≤‡∏Å 13 ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 7)**

## üéØ ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

1. **docker-compose.yml ‡∏™‡∏±‡πâ‡∏ô‡∏•‡∏á** - ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ copy-paste ‡πÄ‡∏£‡πá‡∏ß
2. **‡πÉ‡∏ä‡πâ RAM ‡∏ô‡πâ‡∏≠‡∏¢‡∏•‡∏á** - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ô services ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
3. **Boot ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô** - services ‡∏ô‡πâ‡∏≠‡∏¢‡∏•‡∏á = ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô
4. **‡∏à‡∏≥‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô** - ‡∏°‡∏µ‡πÅ‡∏Ñ‡πà‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÜ

## üí° ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏

- **Grafana + Prometheus:** ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ô ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏Ç‡πà‡∏á monitoring ‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
- **Caddy:** ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ï‡πâ‡∏≠‡∏á route `/api/*` ‡πÑ‡∏õ Backend ‡πÅ‡∏•‡∏∞ `/` ‡πÑ‡∏õ Frontend
- **Node-RED:** Backend ‡∏°‡∏µ MQTT client ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å ESP32 ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á‡πÑ‡∏î‡πâ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô Node-RED

