# GitLab Runner Config Example
# ใช้สำหรับแก้ปัญหา Runner ไม่ build ได้
# 
# หลังจาก register runner แล้ว แก้ไขไฟล์นี้:
# docker exec -it gitlab-runner vi /etc/gitlab-runner/config.toml

concurrent = 1
check_interval = 0

[session_server]
  session_timeout = 1800

[[runners]]
  name = "DevOps Runner"
  url = "http://192.168.100.101"
  token = "YOUR_RUNNER_TOKEN"
  executor = "docker"
  
  [runners.docker]
    tls_verify = false
    image = "alpine:latest"
    privileged = true  # สำคัญมาก! ต้องเป็น true
    disable_entrypoint_overwrite = false
    oom_kill_disable = false
    disable_cache = false
    volumes = ["/var/run/docker.sock:/var/run/docker.sock", "/cache"]
    shm_size = 0
    
  [runners.cache]
    [runners.cache.s3]
    [runners.cache.gcs]
    [runners.cache.azure]
